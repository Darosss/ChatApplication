<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/stylesheets/main.css" />
    <script defer src="/js/dynamic-resize-textarea.js"></script>
    <title>Chat application</title>
  </head>

  <body>
    <div class="chat-container">
      <div class="chat-window">
        <div class="message-div">
          <span class="message-container">
            <span class="time">12:12:12</span>
            <span class="username">user1:</span> oneoneoneoneoneone
            oneoneoneoneoneone oneoneone
          </span>
        </div>
        <div class="message-div">
          <span class="message-container">
            <span class="time">12:12:12</span
            ><span class="username">user2:</span>two</span
          >
        </div>
        <% messages.forEach(message =>{ %>
        <div class="message-div">
          <span class="message-container">
            <span class="time"
              ><%= message.sentTime.toISOString().split("T")[1].split(".")[0]
              %></span
            ><span class="username"><%= message.sender %></span><%=
            message.message %></span
          >
        </div>
        <%})%>
      </div>
      <form action="/" method="POST" class="chat-form">
        <textarea
          name="message"
          class="message-window"
          placeholder="Type message to send"
        ></textarea>
        <button class="btn-primary" type="submit">Send</button>
      </form>
    </div>
  </body>
</html>
